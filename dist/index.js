"use strict";var y=require("path"),g=require("fs"),b=require("module"),r=require("@esbuild-kit/core-utils"),d=require("get-tsconfig");function i(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var p=i(y),M=i(g),f=i(b);const S=/^\.{0,2}\//,j=/\.[cm]?tsx?$/,F=`${p.default.sep}node_modules${p.default.sep}`,l=d.getTsconfig(),x=l==null?void 0:l.config,m=l&&d.createPathsMatcher(l),h=r.installSourceMapSupport(),n=process.versions.node.split(".").map(Number),P=n[0]>=13&&n[1]>=2||n[0]>=12&&n[1]>=20&&n[0]<13&&n[1]<0;function v(e,t){process.send&&process.send({type:"dependency",path:t});let s=M.default.readFileSync(t,"utf8");if(t.endsWith(".cjs")&&P){const o=r.transformDynamicImport(s);o&&(s=r.applySourceMap(o,t,h))}else{const o=r.transformSync(s,t,{tsconfigRaw:x});s=r.applySourceMap(o,t,h)}e._compile(s,t)}const _=f.default._extensions;[".js",".ts",".tsx",".jsx"].forEach(e=>{_[e]=v}),Object.defineProperty(_,".mjs",{value:v,enumerable:!1});const u=f.default._resolveFilename;f.default._resolveFilename=function(e,t,s,o){if(e.startsWith("node:")&&(e=e.slice(5)),m&&!S.test(e)&&!(t!=null&&t.filename.includes(F))){const c=m(e);for(const a of c)try{return u.call(this,a,t,s,o)}catch{}}if(t&&j.test(t.filename)){const c=r.resolveTsPath(e);if(c)try{return u.call(this,c,t,s,o)}catch(a){if(a.code!=="MODULE_NOT_FOUND")throw a}}return u.call(this,e,t,s,o)};
